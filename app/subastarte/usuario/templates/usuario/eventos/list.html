{% extends "layouts/usuario.html" %} 

{% block subnav %}
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
        <h1 class="h3">Eventos</h1>
    </div>
{% endblock %}

{% block subcontent %}

<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="proximos-tab" data-toggle="tab" href="#proximos" role="tab" aria-controls="proximos" aria-selected="true"><i class="far fa-fw fa-calendar-alt"></i> Próximos eventos</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="pasados_cancelados-tab" data-toggle="tab" href="#pasados_cancelados" role="tab" aria-controls="pasados_cancelados" aria-selected="false"><i class="far fa-calendar-times"></i> Anteriores y cancelados</a>
    </li>
</ul>

<div class="tab-content pt-5" id="myTabContent">
    <div class="tab-pane fade active show" id="proximos" role="tabpanel" aria-labelledby="proximos-tab">
        <table id="eventos" class="table table-striped table-bordered dataTable no-footer" style="width:100%">
            <thead>
                <tr>
                    <th>Estado</th>
                    <th>Inscrito</th>
                    <th>Nombre</th>
                    <th>Fecha</th>
                    <th>Duración (horas)</th>
                    <th>Tipo</th>
                    <th>Costo inscripción</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for elem in eventos %}
                    <tr>
                        <td>{{ elem.evento.estado }}</td>
                        <td class="text-center">{% if elem.participa %}<i class="text-success far fa-check-circle"></i>{% endif %}</td>
                        <td>{{ elem.evento.nombre }}</td>
                        <td>{{ elem.evento.fecha }}</td>
                        <td>{{ elem.evento.horas }}</td>
                        <td>{{ elem.evento.get_tipo_display }}</td>
                        <td>{{ elem.evento.costo_ins_client_display }}</td>
                        <td>
                            <ul class="list-inline">
                                <li class="list-inline-item"><a target="_blank" href="{% url 'public:subastas:detail' elem.evento.pk %}">Ver evento <i class="far fa-fw fa-external-link-alt"></i></a></li>
                            </ul>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>        
    <div class="tab-pane fade" id="pasados_cancelados" role="tabpanel" aria-labelledby="pasados_cancelados-tab">
        <table id="eventos" class="table table-striped table-bordered dataTable no-footer" style="width:100%">
            <thead>
                <tr>
                    <th>Estado</th>
                    <th>Nombre</th>
                    <th>Fecha</th>
                    <th>Duración (horas)</th>
                    <th>Tipo</th>
                    <th>Costo inscripción</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for elem in historicos %}
                    <tr>
                        <td>{{ elem.evento.estado }}</td>
                        <td>{{ elem.evento.nombre }}</td>
                        <td>{{ elem.evento.fecha }}</td>
                        <td>{{ elem.evento.horas }}</td>
                        <td>{{ elem.evento.get_tipo_display }}</td>
                        <td>{{ elem.evento.costo_ins_client_display }}</td>
                        <td>
                            <ul class="list-inline">
                                <li class="list-inline-item"><a target="_blank" href="{% url 'public:subastas:detail' elem.evento.pk %}">Ver evento <i class="far fa-fw fa-external-link-alt"></i></a></li>
                            </ul>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}