
{% extends "layouts/tienda.html" %} 
{% load filters %}

{% block subnav %}
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
        <h1 class="h3">Pintura <small>Editar registro</small></h1>
        <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group mr-2">
                <a class="float-right btn btn-sm btn-outline-primary mr-1" href="{% url 'tienda:productos:pinturas' %}">Volver</a>
            </div>
        </div>
    </div>
{% endblock %}

{% block subcontent %}

    <ul class="nav nav-tabs mb-4" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="propiedades-tab" data-toggle="tab" href="#propiedades" role="tab" aria-controls="propiedades" aria-selected="true"><i class="far fa-fw fa-file-alt"></i> Propiedades</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="artistas-tab" data-toggle="tab" href="#artistas" role="tab" aria-controls="artistas" aria-selected="false"><i class="far fa-fw fa-palette"></i> Artistas</a>
        </li>
    </ul>

  <div class="tab-content d-flex flex-column flex-grow-1" id="myTabContent">
    <div class="tab-pane fade show active flex-column flex-grow-1" id="propiedades" role="tabpanel" aria-labelledby="propiedades-tab">

        <form class="container" method="post" enctype="multipart/form-data" novalidate="novalidate">
            {% csrf_token %}
            <div class="form-group row">
                {{ form.estilo | label_class:"col-form-label col-sm-2" }}
                <div class="col-sm-10">
                    {{ form.estilo | add_class:"form-control" }}
                    {{ form.estilo.errors }}
                </div>
            </div>
            <div class="form-group row">
                {{ form.titulo | label_class:"col-form-label col-sm-2" }}
                <div class="col-sm-10">
                    {{ form.titulo | add_class:"form-control" }}
                    {{ form.titulo.errors }}
                </div>
            </div>
            <div class="form-group row">
                {{ form.titulo_original | label_class:"col-form-label col-sm-2" }}
                <div class="col-sm-10">
                    {{ form.titulo_original | add_class:"form-control" }}
                    {{ form.titulo_original.errors }}
                </div>
            </div>
            <div class="form-group row">
                {{ form.anyo | label_class:"col-form-label col-sm-2" }}
                <div class="col-sm-2">
                    {{ form.anyo | add_class:"form-control" }}
                    {{ form.anyo.errors }}
                </div>
            </div>
            <div class="form-group row">
                {{ form.alto | label_class:"col-form-label col-sm-2" }}
                <div class="col-sm-2">
                    {{ form.alto | add_class:"form-control" }}
                    {{ form.alto.errors }}
                </div>
            </div>
            <div class="form-group row">
                {{ form.ancho | label_class:"col-form-label col-sm-2" }}
                <div class="col-sm-2">
                    {{ form.ancho | add_class:"form-control" }}
                    {{ form.ancho.errors }}
                </div>
            </div>
            <div class="form-group row">
                {{ form.imagen | label_class:"col-form-label col-sm-2" }}
                <div class="col-sm-5">
                    {{ form.imagen | add_class:"form-control" }}
                    {{ form.imagen.errors }}
                </div>
            </div>
            <div class="form-group row">
                <div class="offset-sm-2 col-sm-10">
                    <button type="submit" class="btn btn-primary">Guardar</button>
                </div>
            </div>
        </form>

    </div>
    <div class="tab-pane fade flex-column flex-grow-1" id="artistas" role="tabpanel" aria-labelledby="artistas-tab">
      
        <form method="post" novalidate="novalidate">
            <input type="hidden" name="artists" value="artists" />
            {% csrf_token %}

            <table id="artistas_table" class="table table-striped table-bordered dataTable no-footer" style="width:100%">
                <thead>
                    <tr>
                        <th></th>
                        <th>Nombre art√≠stico</th>
                        <th>Nombre</th>
                    </tr>
                </thead>
                <tbody>
                    {% for artista in data %}
                        <tr>
                            <td><input name="artista_id[]" type="checkbox" {% if artista.presente %}checked="checked"{% endif %} value="{{ artista.id }}" /></td>
                            <td>{{ artista.nombre_artistico }}</td>
                            <td>{{ artista.nombre }} {{ artista.apellido }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>

            <div class="col-sm-12">
                <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
        </form>
    </div>
  </div>

{% endblock %}